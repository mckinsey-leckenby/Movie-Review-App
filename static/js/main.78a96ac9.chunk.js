(this["webpackJsonpdjm-movie"]=this["webpackJsonpdjm-movie"]||[]).push([[0],{31:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(22),i=n.n(s),r=n(3),o=(n(30),n(31),n(14)),a=n(25),j=n(0),l=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(null),l=Object(r.a)(i,2),h=l[0],b=l[1];return Object(j.jsx)("div",{children:Object(o.a)(Array(5)).map((function(e,t){var c=t+1;return Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"radio",name:"rating",value:c,onClick:function(){return s(c)}}),Object(j.jsx)(a.a,{className:"star",color:c<=(h||n)?"#ffc107":"#e4e5e9",size:15,onMouseEnter:function(){return b(c)},onMouseLeave:function(){return b(null)}})]})}))})},h=n(13),b=n(2),d=n(4),u=n(10);var O=function(e){var t=e.movies,n=e.comments,s=e.setComments,i=Object(c.useState)(!1),a=Object(r.a)(i,2),l=a[0],O=a[1],m=Object(c.useState)({movie_id:"",show_id:"",comment:"",rating:""}),x=Object(r.a)(m,2),f=x[0],v=x[1],g=Object(d.f)(),p="http://localhost:9292".concat(g.location.pathname,"/reviews"),w=n.map((function(e){return Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:[e.comment," ",Object(j.jsx)("br",{}),"movie rating: ",Object(j.jsx)("strong",{children:e.rating})," "]}),Object(j.jsx)(u.a,{variant:"danger",onClick:function(t){return function(e){var t="http://localhost:9292/reviews/".concat(e);fetch(t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(){return s(n.filter((function(t){return t.id!==e})))})),window.location.reload(!1)}(e.id)},children:"delete"})]})})),C=function(e){v(Object(b.a)(Object(b.a)({},f),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{children:[w,Object(j.jsx)("button",{onClick:function(){O((function(e){return!e}))},children:"Leave Comment"}),l&&Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={movie_id:t.id,comment:f.comment,rating:f.rating,id:0};fetch(p,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){return function(e){s([].concat(Object(o.a)(n),[e]))}(e)})),v({movie_id:"",comment:"",rating:""}),window.location.reload(!1)},children:[Object(j.jsx)("h3",{children:t.title}),Object(j.jsx)("input",{onChange:C,type:"text",name:"comment",placeholder:"Comment",value:f.comment}),Object(j.jsx)("input",{onChange:C,type:"text",name:"rating",placeholder:"rating",value:f.rating}),Object(j.jsx)("button",{type:"submit",children:"Add Review!"})]})]})},m=n(9);var x=function(e){var t=e.movies,n=Object(c.useState)([]),s=Object(r.a)(n,2),i=s[0],o=s[1],a=Object(c.useState)(t.reviews),h=Object(r.a)(a,2),b=h[0],x=h[1],f=Object(c.useState)(!1),v=Object(r.a)(f,2),g=v[0],p=v[1],w=Object(d.f)(),C="http://localhost:9292/movies/".concat(t.id);return Object(c.useEffect)((function(){fetch(C).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsxs)(m.a,{className:"mb-2",style:{width:"35rem",height:"70em",margin:".25rem"},bg:"dark",children:[Object(j.jsx)(m.a.Img,{variant:"top",src:t.img_url,alt:t.title}),Object(j.jsx)(l,{}),Object(j.jsxs)(m.a.Body,{className:"Card-body",children:[Object(j.jsx)("h1",{className:"h1Center",children:Object(j.jsx)("strong",{children:t.title})}),Object(j.jsxs)(m.a.Subtitle,{children:[Object(j.jsxs)("h6",{children:["Genre: ",Object(j.jsx)("strong",{children:t.genre})]}),Object(j.jsxs)("h6",{children:["Release year: ",Object(j.jsx)("strong",{children:t.release_year})]})]}),Object(j.jsx)(m.a.Text,{children:t.desc}),Object(j.jsx)(u.a,{variant:"info",onClick:function(){return w.push("/movies/".concat(t.id)),o(t),void p((function(e){return!e}))},children:"Show Review"})]})]}),g&&Object(j.jsx)(O,{shows:i,comments:b,setComments:x})]})},f=function(e){var t=e.movies.map((function(e){return Object(j.jsx)(x,{movies:e})}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"row_poster",children:t})})},v=n(5),g=function(e){var t=function(){window.location.reload(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"DJM-logo",onClick:t,children:Object(j.jsx)(v.b,{to:"/",children:Object(j.jsx)("img",{src:"https://media.giphy.com/media/1fvCpwHdikcmxYbx94/giphy.gif",alt:"logo",className:"logo"})})}),Object(j.jsx)("div",{className:"col",onClick:t,children:Object(j.jsx)(v.b,{to:"/",children:Object(j.jsx)("h1",{children:e.heading})})})]})};var p=function(e){var t=e.shows,n=e.comments,s=e.setComments,i=Object(c.useState)(!1),a=Object(r.a)(i,2),l=a[0],O=a[1],m=Object(c.useState)({movie_id:"",show_id:"",comment:"",rating:""}),x=Object(r.a)(m,2),f=x[0],v=x[1],g=Object(d.f)(),p="http://localhost:9292".concat(g.location.pathname,"/reviews"),w=t.reviews.map((function(e){return Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:[e.comment," ",Object(j.jsx)("br",{}),"movie rating: ",Object(j.jsx)("strong",{children:e.rating})," "]}),Object(j.jsx)(u.a,{variant:"danger",onClick:function(t){return function(e){var t="http://localhost:9292/reviews/".concat(e);fetch(t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(){return s(n.filter((function(t){return t.id!==e})))})),window.location.reload(!1)}(e.id)},children:"delete"})]})})),C=function(e){v(Object(b.a)(Object(b.a)({},f),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{className:"comment-card",children:[w,Object(j.jsx)("button",{onClick:function(){O((function(e){return!e}))},children:"Leave Comment"}),l&&Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={show_id:t.id,comment:f.comment,rating:f.rating,id:0};fetch(p,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){return function(e){s([].concat(Object(o.a)(n),[e]))}(e)})),v({movie_id:"",comment:"",rating:""}),window.location.reload(!1)},children:[Object(j.jsx)("h3",{children:t.title}),Object(j.jsx)("input",{onChange:C,type:"text",name:"comment",placeholder:"Comment",value:f.comment}),Object(j.jsx)("input",{onChange:C,type:"text",name:"rating",placeholder:"rating",value:f.rating}),Object(j.jsx)("button",{type:"submit",children:"Add Review!"})]})]})};var w=function(e){var t=e.shows,n=Object(c.useState)([]),s=Object(r.a)(n,2),i=s[0],o=s[1],a=Object(c.useState)(t.reviews),h=Object(r.a)(a,2),b=h[0],O=h[1],x=Object(c.useState)(!1),f=Object(r.a)(x,2),v=f[0],g=f[1],w=Object(d.f)(),C="http://localhost:9292/shows/".concat(t.id);return Object(c.useEffect)((function(){fetch(C).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsxs)(m.a,{className:"mb-2",style:{width:"35rem",height:"70em",margin:".25rem"},bg:"dark",children:[Object(j.jsx)(m.a.Img,{variant:"top",src:t.img_url,alt:t.title}),Object(j.jsx)(l,{}),Object(j.jsxs)(m.a.Body,{className:"Card-body",children:[Object(j.jsx)("h1",{className:"h1Center",children:Object(j.jsx)("strong",{children:t.title})}),Object(j.jsxs)(m.a.Subtitle,{children:[Object(j.jsxs)("h6",{children:["Genre: ",Object(j.jsx)("strong",{children:t.genre})]}),Object(j.jsxs)("h6",{children:["Release year: ",Object(j.jsx)("strong",{children:t.release_year})]}),Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["Seasons: ",Object(j.jsx)("strong",{children:t.total_season})]}),Object(j.jsxs)("li",{children:["Total Episodes: ",Object(j.jsx)("strong",{children:t.total_episode})]})]})]}),Object(j.jsx)(m.a.Text,{children:t.desc}),Object(j.jsx)(u.a,{variant:"info",onClick:function(){return w.push("/shows/".concat(t.id)),o(t),void g((function(e){return!e}))},children:"Show Review"})]})]}),v&&Object(j.jsx)(p,{shows:i,comments:b,setComments:O})]})};var C=function(e){var t=e.shows.map((function(e){return Object(j.jsx)(w,{shows:e})}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"row_poster",children:t})})};var S=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),a=o[0],l=o[1];Object(c.useEffect)((function(){fetch("http://localhost:9292/movies").then((function(e){return e.json()})).then(s),fetch("http://localhost:9292/shows").then((function(e){return e.json()})).then(l)}),[]);var h=Object(d.f)(),b=n.map((function(e){return Object(j.jsx)("div",{className:"d-flex",children:Object(j.jsx)("div",{className:"row_poster",children:Object(j.jsx)("div",{class:"hover-container",children:Object(j.jsx)("img",{src:e.img_url,alt:"movie",onClick:function(){return h.push("/movies")}})})})})})),u=a.map((function(e){return Object(j.jsx)("div",{className:"d-flex",children:Object(j.jsx)("div",{className:"row_poster",children:Object(j.jsx)("div",{class:"hover-container",children:Object(j.jsx)("img",{src:e.img_url,alt:"movie",onClick:function(){return h.push("/shows")}})})})})}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"row_poster",children:b}),Object(j.jsx)("div",{className:"row_poster",children:u})]})},y=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),a=o[0],l=o[1];Object(c.useEffect)((function(){fetch("http://localhost:9292/movies").then((function(e){return e.json()})).then(s),fetch("http://localhost:9292/shows").then((function(e){return e.json()})).then(l)}),[]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(g,{heading:"Fresh Potato"}),Object(j.jsxs)("div",{className:"movie-or-shows",onClick:function(){window.location.reload(!1)},children:[Object(j.jsx)(v.b,{to:"/movies",children:Object(j.jsx)(u.a,{children:"Movies"})}),Object(j.jsx)("br",{}),Object(j.jsx)(v.b,{to:"/shows",children:Object(j.jsx)(u.a,{children:"Shows"})})]}),Object(j.jsx)(v.a,{children:Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{exact:!0,path:"/",children:Object(j.jsx)(S,{})}),Object(j.jsx)(d.a,{path:"/movies",children:Object(j.jsx)(f,{movies:n})}),Object(j.jsx)(d.a,{path:"/shows",children:Object(j.jsx)(C,{shows:a})})]})})]})})};i.a.render(Object(j.jsx)(v.a,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.78a96ac9.chunk.js.map